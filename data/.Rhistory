k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "G38" ||
model_data$PageName[i] =="G39" ||
model_data$PageName[i] =="E38" ||
model_data$PageName[i] =="E40" ||
model_data$PageName[i] =="E41" ||
model_data$PageName[i] =="D42" ||
model_data$PageName[i] =="C39"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$scandinavia[i]<-temp[i,x+2]
}
proxy_region$w_africa <- NA
model_region$w_africa <- NA
# w africa R38, T39 and V39
x=3
#model
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "R38" ||
model_data$PageName[i] =="T39" ||
model_data$PageName[i] =="V39"
){
for(j in 1:220){
temp[j,k]<-model_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
#change here
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
model_region$w_africa[i]<-temp[i,x+2]
}
#proxy
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "R38" ||
model_data$PageName[i] =="T39" ||
model_data$PageName[i] =="V39"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$w_africa[i]<-temp[i,x+2]
}
# arabean sea P47 and P48
x = 2
#model
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "P47" ||
model_data$PageName[i] =="P48"
){
for(j in 1:220){
temp[j,k]<-model_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
#change here
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
model_region$arabean_sea[i]<-temp[i,x+2]
}
#proxy
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "P47" ||
model_data$PageName[i] =="P48"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$arabean_sea[i]<-temp[i,x+2]
}
# congo T42
x = 1
#model
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "T42"
){
for(j in 1:220){
temp[j,k]<-model_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
#change here
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
model_region$congo[i]<-temp[i,x+2]
}
#proxy
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "T42"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$congo[i]<-temp[i,x+2]
}
# china L59
x = 1
#model
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "L59"
){
for(j in 1:220){
temp[j,k]<-model_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
#change here
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
model_region$china[i]<-temp[i,x+2]
}
#proxy
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "L59"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$china[i]<-temp[i,x+2]
}
# s australia Z64
x = 1
#model
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "Z64"
){
for(j in 1:220){
temp[j,k]<-model_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
#change here
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
model_region$s_australia[i]<-temp[i,x+2]
}
#proxy
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "Z64"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$s_australia[i]<-temp[i,x+2]
}
# S atlantic X39, AA38 and AB38
x = 3
#model
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "X39" ||
model_data$PageName[i] =="AA38" ||
model_data$PageName[i] =="AB38"
){
for(j in 1:220){
temp[j,k]<-model_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
#change here
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
model_region$s_atlantic[i]<-temp[i,x+2]
}
#proxy
#change here
temp <- data.frame(matrix(vector(),220,x+2))
temp$X1 <- seq(100,22000,100)
k <- 2
for(i in 1:nrow(proxy_data)){
if(model_data$PageName[i] == "X39" ||
model_data$PageName[i] =="AA38" ||
model_data$PageName[i] =="AB38"
){
for(j in 1:220){
#change here
temp[j,k]<-proxy_data[i,j+5]
}
k <- 1+k
cat("finishing ", model_data$PageName[i] )
}
}
#average
for(row in 1:nrow(temp)){
ct <- 0
sum <- 0
for(col in 2:(x+1)){
sum <- sum + temp[row,col]
if(temp[row,col]!=0){
ct <- ct + 1
}
}
if(ct==0){
#change here
temp[row,x+2]<-NA
} else{
temp[row,x+2]<-sum/ct
}
cat("finishing row ", i, "; ")
}
for(i in 1:220){
#change here
proxy_region$s_atlantic[i]<-temp[i,x+2]
}
write.csv(proxy_region,"proxy_region.csv")
write.csv(model_region,"model_region.csv")
library(readr)
library(ggplot2)
